<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… ERP Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ù„Ø§Øª</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; }
        .container { background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); max-width: 1200px; width: 95%; padding: 40px; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: #667eea; font-size: 2.5em; margin-bottom: 10px; }
        .header p { color: #666; font-size: 1.1em; }
        .login-section { display: block; }
        .dashboard-section { display: none; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: #333; font-weight: bold; }
        .form-group input, .form-group select { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; transition: 0.3s; }
        .form-group input:focus, .form-group select:focus { border-color: #667eea; outline: none; }
        .btn { padding: 14px 30px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: 0.3s; font-weight: bold; }
        .btn-primary { background: #667eea; color: white; }
        .btn-primary:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102,126,234,0.4); }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-info { background: #17a2b8; color: white; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .stat-card h3 { font-size: 1.2em; margin-bottom: 10px; opacity: 0.9; }
        .stat-card p { font-size: 2.5em; font-weight: bold; }
        .menu { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 30px; }
        .menu-item { background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer; transition: 0.3s; border: 2px solid transparent; }
        .menu-item:hover { background: #667eea; color: white; transform: translateY(-5px); box-shadow: 0 5px 15px rgba(102,126,234,0.3); }
        .menu-item i { font-size: 2em; margin-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        table th, table td { padding: 12px; text-align: right; border-bottom: 1px solid #ddd; }
        table th { background: #667eea; color: white; }
        table tr:hover { background: #f8f9fa; }
        .alert { padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .alert-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .alert-danger { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸª Ù†Ø¸Ø§Ù… ERP Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h1>
            <p>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ù„Ø§Øª Ù…Ø¹ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù‡ÙŠØ¦Ø© Ø§Ù„Ø²ÙƒØ§Ø© ÙˆØ§Ù„Ø¶Ø±ÙŠØ¨Ø© ZATCA</p>
        </div>

        <!-- Login Section -->
        <div id="loginSection" class="login-section">
            <div class="form-group">
                <label>ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
            </div>
            <div class="form-group">
                <label>ğŸ” ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <input type="password" id="password" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            </div>
            <div class="form-group">
                <label>ğŸ¢ Ø§Ù„ÙØ±Ø¹</label>
                <select id="branch">
                    <option value="1">Ø§Ù„Ù…Ø¹Ù„Ø²</option>
                    <option value="2">Ø§Ù„Ø±Ø¨ÙˆØ©</option>
                    <option value="3">Ø§Ù„Ø±ÙˆØ¶Ø©</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="login()" style="width: 100%;">ğŸš€ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboardSection" class="dashboard-section">
            <div id="alertBox"></div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3>
                    <p id="dailySales">0 Ø±ÙŠØ§Ù„</p>
                </div>
                <div class="stat-card">
                    <h3>ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
                    <p id="inventory">0 Ù…Ù†ØªØ¬</p>
                </div>
                <div class="stat-card">
                    <h3>ğŸ’µ Ø±ØµÙŠØ¯ Ø§Ù„Ø®Ø²ÙŠÙ†Ø©</h3>
                    <p id="cashBalance">0 Ø±ÙŠØ§Ù„</p>
                </div>
                <div class="stat-card">
                    <h3>ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h3>
                    <p id="invoiceCount">0</p>
                </div>
            </div>

            <div class="menu">
                <div class="menu-item" onclick="showSection('pos')">
                    <div>ğŸ’³</div>
                    <h3>Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹</h3>
                </div>
                <div class="menu-item" onclick="showSection('sales')">
                    <div>ğŸ›’</div>
                    <h3>Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h3>
                </div>
                <div class="menu-item" onclick="showSection('purchases')">
                    <div>ğŸ“¥</div>
                    <h3>Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
                </div>
                <div class="menu-item" onclick="showSection('inventory')">
                    <div>ğŸ“¦</div>
                    <h3>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
                </div>
                <div class="menu-item" onclick="showSection('customers')">
                    <div>ğŸ‘¥</div>
                    <h3>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
                </div>
                <div class="menu-item" onclick="showSection('suppliers')">
                    <div>ğŸ­</div>
                    <h3>Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</h3>
                </div>
                <div class="menu-item" onclick="showSection('reports')">
                    <div>ğŸ“Š</div>
                    <h3>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h3>
                </div>
                <div class="menu-item" onclick="showSection('zatca')">
                    <div>ğŸ“„</div>
                    <h3>ZATCA</h3>
                </div>
                <div class="menu-item" onclick="showSection('shifts')">
                    <div>â°</div>
                    <h3>Ø§Ù„Ø´ÙØªØ§Øª</h3>
                </div>
                <div class="menu-item" onclick="showSection('expenses')">
                    <div>ğŸ’¸</div>
                    <h3>Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h3>
                </div>
                <div class="menu-item" onclick="showSection('banks')">
                    <div>ğŸ¦</div>
                    <h3>Ø§Ù„Ø¨Ù†ÙˆÙƒ</h3>
                </div>
                <div class="menu-item" onclick="logout()">
                    <div>ğŸšª</div>
                    <h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</h3>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª SQL
        const API_URL = 'http://localhost:3000/api';
        let currentUser = null;
        let currentBranch = null;

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        async function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const branch = document.getElementById('branch').value;

            if (!username || !password) {
                showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', 'danger');
                return;
            }

            try {
                // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                currentUser = { username, role: 'admin' };
                currentBranch = branch;
                
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('dashboardSection').style.display = 'block';
                
                loadDashboardData();
                showAlert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! Ù…Ø±Ø­Ø¨Ø§Ù‹ ' + username, 'success');
            } catch (error) {
                showAlert('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ' + error.message, 'danger');
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        async function loadDashboardData() {
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            document.getElementById('dailySales').textContent = '15,750 Ø±ÙŠØ§Ù„';
            document.getElementById('inventory').textContent = '450 Ù…Ù†ØªØ¬';
            document.getElementById('cashBalance').textContent = '8,500 Ø±ÙŠØ§Ù„';
            document.getElementById('invoiceCount').textContent = '127';
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function showSection(section) {
            showAlert('ØªÙ… ÙØªØ­ Ù‚Ø³Ù…: ' + getSectionName(section), 'success');
            // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
        }

        function getSectionName(section) {
            const names = {
                pos: 'Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹',
                sales: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                purchases: 'Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª',
                inventory: 'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†',
                customers: 'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
                suppliers: 'Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†',
                reports: 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',
                zatca: 'Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ ZATCA',
                shifts: 'Ø§Ù„Ø´ÙØªØ§Øª',
                expenses: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª',
                banks: 'Ø§Ù„Ø¨Ù†ÙˆÙƒ'
            };
            return names[section] || section;
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        function showAlert(message, type) {
            const alertBox = document.getElementById('alertBox');
            alertBox.innerHTML = `<div class="alert alert-${type}">${message}</div>`;
            setTimeout(() => {
                alertBox.innerHTML = '';
            }, 3000);
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                currentUser = null;
                currentBranch = null;
                document.getElementById('loginSection').style.display = 'block';
                document.getElementById('dashboardSection').style.display = 'none';
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            }
        }

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        // admin / 123456 - Ù„Ù„Ù…Ø¯ÙŠØ±
        // manager1 / 123456 - Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ø²
        // cashier1 / 123456 - ÙƒØ§Ø´ÙŠØ±
    </script>
</body>
</html>
